<div id="booking" class="section">
    <div class="section-center">
        <div class="container">
            <div class="row">
                <div class="booking-form">
                    <div class="booking-bg"></div>
                    <form (ngSubmit)="confirmBooking()" *ngIf="!bookingSuccess">
                        <div class="form-header">
                            <h2>Reserva para {{ tarea?.nombre }}</h2>
                            <p class="form-price">Precio: {{ tarea?.precio | currency }}</p>
                        </div>

                        <div class="form-group">
                            <span class="form-label">Descripción</span>
                            <textarea class="form-control" name="description"
                                placeholder="Escribe una descripción de tu reserva" required></textarea>
                        </div>

                        <div class="form-group">
                            <span class="form-label">Email</span>
                            <input class="form-control" type="email" placeholder="Ingresa tu correo electrónico"
                                required>
                        </div>

                        <div class="form-group">
                            <span class="form-label">Teléfono</span>
                            <input class="form-control" type="tel" placeholder="Ingresa tu número de teléfono" required>
                        </div>

                        <div class="form-group">
                            <span class="form-label">Fecha de Inicio</span>
                            <input ngxDaterangepickerMd 
                                   [(ngModel)]="startDate" 
                                   (datesUpdated)="onStartDateChange($event)" 
                                   name="startDate" 
                                   class="form-control" 
                                   placeholder="Selecciona la fecha de inicio" 
                                   required 
                                   [singleDatePicker]="true"
                                   [autoApply]="true"/>
                        </div>
                        
                        <div class="form-group">
                            <span class="form-label">Fecha de Fin</span>
                            <input ngxDaterangepickerMd 
                                   [(ngModel)]="endDate" 
                                   (datesUpdated)="onEndDateChange($event)" 
                                   name="endDate" 
                                   class="form-control" 
                                   placeholder="Selecciona la fecha de fin" 
                                   required 
                                   [singleDatePicker]="true"
                                   [autoApply]="true"/>
                        </div>
                        
                        <div class="form-group">
                            <span class="form-label">Hora de Inicio</span>
                            <input type="time" class="form-control" name="startTime" [(ngModel)]="startTime" required>
                        </div>

                        <div class="form-group">
                            <span class="form-label">Duración en Horas</span>
                            <input type="number" class="form-control" name="duration" [(ngModel)]="duration"
                                placeholder="Número de horas" min="1" required>
                        </div>

                        <div class="form-btn">
                            <button type="submit" class="submit-btn">Reservar Ahora</button>
                        </div>
                    </form>

                    <div *ngIf="bookingSuccess" class="confirmation-message">
                        <p>¡Reserva confirmada con éxito!</p>
                        <button class="btn-back">Volver a Inicio</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>